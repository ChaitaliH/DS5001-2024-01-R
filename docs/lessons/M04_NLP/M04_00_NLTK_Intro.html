<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.262">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploratory Text Analytics - 17&nbsp; NLTK Parsers</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../lessons/M04_NLP/M04_01_Pipeline.html" rel="next">
<link href="../../lessons/M03_LanguageModels/M03_EZ.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-title">NLTK Parsers</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Exploratory Text Analytics</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ontoligent/DS5001-2024-01-R" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">M01 Introduction</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M01_Intro/M01_01_getting-started.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Setting Up Your Jupyter Environmnet</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M01_Intro/M01_02_hello.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Lab: Hello, World!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M01_Intro/M01_03_first-foray.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Lab: First Foray</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M01_Intro/M01_04_FurtherExploration.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Lab: Further Exploration</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">M02 TextModels</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M02_TextModels/M02_01_Importing-Persuasion.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Text into Data: Importing a Text, or, Clip, Chunk, and Split</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M02_TextModels/M02_02_TokenizingWithSciKitLearn.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Tokenizing with SciKit Learn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M02_TextModels/M02_03_Challenge.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Challenge: Convert Another Text</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">M03 LanguageModels</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M03_LanguageModels/M03_01_Babel.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Baby Babel</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M03_LanguageModels/M03_01a_EntropyExamples.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Entropy Examples</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M03_LanguageModels/M03_02_LanguageModels_V1.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Inferring Language Models v1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M03_LanguageModels/M03_02_LanguageModels_V2.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Inferring Language Models (v2)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M03_LanguageModels/M03_02_LanguageModels_V3.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Inferring Language Models (v3)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M03_LanguageModels/M03_02_SimpleLangModel.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Demonstration of Simple Language Model</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M03_LanguageModels/M03_03_Entropy-and-Perplexity.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Entropy and Peplexity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M03_LanguageModels/M03_04-Entropy-and-Term-Length.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Entropy and Term Length</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M03_LanguageModels/M03_EZ.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">How to Create an N-Gram Model from ScratchHow to Create an N-Gram Model from Scratch</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">M04 NLP</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M04_NLP/M04_00_NLTK_Intro.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">NLTK Parsers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M04_NLP/M04_01_Pipeline.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">NLP and the Pipeline</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M04_NLP/M04_02_HMM.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Predict POS with an HMM</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">M05 VectorSpaceModels</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M05_VectorSpaceModels/M05_01_BOW_TFIDF.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Vector Spaces, BOW, and TFIDF</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M05_VectorSpaceModels/M05_02_TimeTokenMatrices.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Time-Token Matrices</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M05_VectorSpaceModels/M05_03_TFIDF_Exploration.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Variant TFIDFs and Document Significance</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">M06 CusteringSimilarity</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M06_CusteringSimilarity/M06_01_SimilarityMeasures.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Similarity and Distance Measures</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">M07 FeaturesAndComponents</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M07_FeaturesAndComponents/M07_01_PCA.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">PCA from Scratch</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">M08 TopicModels</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08_TopicModels/M08_01_GibbsSampler.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Gibbs Sampler</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08_TopicModels/M08_02_LDASciKitLearn.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">LDA with SciKit Learn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08_TopicModels/M08_03_TopicSimilarity.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Topic Similarity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08_TopicModels/M08_04_TopicContiguity.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Topic Contiguity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08_TopicModels/M08_05_PyLDAVis.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">PyLDAVis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08_TopicModels/Untitled.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Untitled.html</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">M08a Visualization</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08a_Visualization/M08a_01_Gensim.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Other Tools</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08a_Visualization/M08a_02_GensimRunCompareLDA.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08a_Visualization/M08a_03_MALLET.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M08a_Visualization/M08a_04_Mazo.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">M09 WordEmbedding</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M09_WordEmbedding/M09_01_GloVe.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M09_WordEmbedding/M09_02_PMI_SVD.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M09_WordEmbedding/M09_03_SkipgramRepresentation.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M09_WordEmbedding/M09_04_word2vec.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M09_WordEmbedding/M09_05_FastText.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M09_WordEmbedding/Untitled.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Untitled.html</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M09_WordEmbedding/run_fasttext.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">FastText Model</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false">M10 SentimentAnalysis</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M10_SentimentAnalysis/M10_01_GeneralInquirer.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M10_SentimentAnalysis/M10_02_CombineLexicons.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M10_SentimentAnalysis/M10_03_Novel.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M10_SentimentAnalysis/M10_04_AustenMelville.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M10_SentimentAnalysis/M10_05_WordShiftGraphs.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M10_SentimentAnalysis/M10_06_Doc2Vec.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false">M11 Narrative</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M11_Narrative/M11_01_ExportBooksWithSentiment.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M11_Narrative/M11_02_SyuzhetPlots.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M11_Narrative/M11_03_Syuzhet_R.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M11_Narrative/M11_04_Syuzhet_RGeneral.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false">M12 Classification</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M12_Classification/M12_01_NaiveBayesWineReviews.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M12_Classification/M12_01b_SKLearnMNB.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M12_Classification/M12_02_PerceptronWine.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M12_Classification/M12_03.ExpectedMutualInformation.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M12_Classification/M12_04_Viz.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M12_Classification/Untitled.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false">M13 LLMs</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M13_LLMs/M13_01_ChatGPTDemo.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M13_LLMs/M13_02_ChatGPTDemo2.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M13_LLMs/M13_03_ChatGPT4Demo.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M13_LLMs/M13_play.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">M13_play.html</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M13_LLMs/tokenizer_training.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Loading the dataset</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false">M90 DispersionPlots</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M90_DispersionPlots/m01.04-austen-kde.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Synopsis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M90_DispersionPlots/onehot.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">onehot.html</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false">M91 Charrette</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M91_Charrette/CharretteFIguresAndCharacters.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Figures and Characters</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M91_Charrette/CharretteTokens.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Config</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false">M92 Helpers</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M92_Helpers/M00_01_VectorizationWithSKLearn.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../lessons/M92_Helpers/M00_02_SpaCy.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Metadata</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#set-up" id="toc-set-up" class="nav-link active" data-scroll-target="#set-up">Set Up</a>
  <ul class="collapse">
  <li><a href="#config" id="toc-config" class="nav-link" data-scroll-target="#config">Config</a></li>
  </ul></li>
  <li><a href="#import-file-into-a-dataframe" id="toc-import-file-into-a-dataframe" class="nav-link" data-scroll-target="#import-file-into-a-dataframe">Import file into a dataframe</a></li>
  <li><a href="#clip-cruft" id="toc-clip-cruft" class="nav-link" data-scroll-target="#clip-cruft">Clip Cruft</a></li>
  <li><a href="#chunk-chapters" id="toc-chunk-chapters" class="nav-link" data-scroll-target="#chunk-chapters">Chunk Chapters</a></li>
  <li><a href="#chunk-paragraphs" id="toc-chunk-paragraphs" class="nav-link" data-scroll-target="#chunk-paragraphs">Chunk Paragraphs</a></li>
  <li><a href="#use-nltk-to-chunk-sentences-and-parse-tokens" id="toc-use-nltk-to-chunk-sentences-and-parse-tokens" class="nav-link" data-scroll-target="#use-nltk-to-chunk-sentences-and-parse-tokens">Use NLTK to Chunk Sentences and Parse Tokens</a>
  <ul class="collapse">
  <li><a href="#import-nltk-and-download-resources" id="toc-import-nltk-and-download-resources" class="nav-link" data-scroll-target="#import-nltk-and-download-resources">Import NLTK and download resources</a></li>
  <li><a href="#demonstrate-nltk.sent_tokenize" id="toc-demonstrate-nltk.sent_tokenize" class="nav-link" data-scroll-target="#demonstrate-nltk.sent_tokenize">Demonstrate <code>nltk.sent_tokenize()</code></a></li>
  <li><a href="#apply-to-paras-dataframe" id="toc-apply-to-paras-dataframe" class="nav-link" data-scroll-target="#apply-to-paras-dataframe">Apply to <code>PARAS</code> dataframe</a></li>
  <li><a href="#demonstrate-nltk.word_tokenize" id="toc-demonstrate-nltk.word_tokenize" class="nav-link" data-scroll-target="#demonstrate-nltk.word_tokenize">Demonstrate <code>nltk.word_tokenize()</code></a></li>
  <li><a href="#demostrate-pos-tagging" id="toc-demostrate-pos-tagging" class="nav-link" data-scroll-target="#demostrate-pos-tagging">Demostrate POS tagging</a></li>
  <li><a href="#apply-to-sents-dataframe" id="toc-apply-to-sents-dataframe" class="nav-link" data-scroll-target="#apply-to-sents-dataframe">Apply to <code>SENTS</code> dataframe</a></li>
  </ul></li>
  <li><a href="#use-nltk-to-annotate-tokens-and-vocab" id="toc-use-nltk-to-annotate-tokens-and-vocab" class="nav-link" data-scroll-target="#use-nltk-to-annotate-tokens-and-vocab">Use NLTK to annotate TOKENS and VOCAB</a>
  <ul class="collapse">
  <li><a href="#extract-vocab" id="toc-extract-vocab" class="nav-link" data-scroll-target="#extract-vocab">Extract VOCAB</a></li>
  <li><a href="#add-max-pos" id="toc-add-max-pos" class="nav-link" data-scroll-target="#add-max-pos">Add Max POS</a></li>
  <li><a href="#the-u-penn-tree-bank" id="toc-the-u-penn-tree-bank" class="nav-link" data-scroll-target="#the-u-penn-tree-bank">The U Penn Tree Bank</a></li>
  <li><a href="#extract-pos" id="toc-extract-pos" class="nav-link" data-scroll-target="#extract-pos">Extract POS</a></li>
  <li><a href="#compute-pos-ambiguity" id="toc-compute-pos-ambiguity" class="nav-link" data-scroll-target="#compute-pos-ambiguity">Compute POS ambiguity</a></li>
  <li><a href="#extract-max-pos" id="toc-extract-max-pos" class="nav-link" data-scroll-target="#extract-max-pos">Extract Max POS</a></li>
  <li><a href="#identify-stopwords" id="toc-identify-stopwords" class="nav-link" data-scroll-target="#identify-stopwords">Identify Stopwords</a></li>
  <li><a href="#add-stems" id="toc-add-stems" class="nav-link" data-scroll-target="#add-stems">Add Stems</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/ontoligent/DS5001-2024-01-R/blob/main/lessons/M04_NLP/M04_00_NLTK_Intro.ipynb" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-title">NLTK Parsers</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="sourceCode" id="cb1"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Course</span><span class="kw">:</span><span class="at">   DS 5001</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Module</span><span class="kw">:</span><span class="at">   04 Lab</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">Topic</span><span class="kw">:</span><span class="at">    NLTK Parsers</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">Author</span><span class="kw">:</span><span class="at">   R.C. Alvarado</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">Date</span><span class="kw">:</span><span class="at">     5 February 2022 (revised)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Purpose</strong>: Demonstrate use of NLTK’s sentence and token parsers.</p>
<section id="set-up" class="level1">
<h1>Set Up</h1>
<section id="config" class="level2">
<h2 class="anchored" data-anchor-id="config">Config</h2>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> configparser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>config <span class="op">=</span> configparser.ConfigParser()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>config.read(<span class="st">"../env.ini"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>data_dir <span class="op">=</span> config[<span class="st">'DEFAULT'</span>][<span class="st">'data_home'</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>output_dir <span class="op">=</span> config[<span class="st">'DEFAULT'</span>][<span class="st">'output_dir'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>src_file <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>data_dir<span class="sc">}</span><span class="ss">/gutenberg/pg161.txt"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>OHCO <span class="op">=</span> [<span class="st">'chap_num'</span>, <span class="st">'para_num'</span>, <span class="st">'sent_num'</span>, <span class="st">'token_num'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>np.__version__</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>'1.24.3'</code></pre>
</div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy <span class="im">as</span> sp</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>sp.__version__</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>'1.11.3'</code></pre>
</div>
</div>
</section>
</section>
<section id="import-file-into-a-dataframe" class="level1">
<h1>Import file into a dataframe</h1>
<p>We import our text from scratch in order to demonstrate the use of NLTKs model-driven parsers.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>LINES <span class="op">=</span> pd.DataFrame(<span class="bu">open</span>(src_file, <span class="st">'r'</span>, encoding<span class="op">=</span><span class="st">'utf-8-sig'</span>).readlines(), columns<span class="op">=</span>[<span class="st">'line_str'</span>])</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>LINES.index.name <span class="op">=</span> <span class="st">'line_num'</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>LINES.line_str <span class="op">=</span> LINES.line_str.<span class="bu">str</span>.replace(<span class="vs">r'\n+'</span>, <span class="st">' '</span>, regex<span class="op">=</span><span class="va">True</span>).<span class="bu">str</span>.strip()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>LINES.sample(<span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>line_str</th>
    </tr>
    <tr>
      <th>line_num</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5591</th>
      <td>Willoughby; and therefore was not more indispo...</td>
    </tr>
    <tr>
      <th>8022</th>
      <td></td>
    </tr>
    <tr>
      <th>8453</th>
      <td></td>
    </tr>
    <tr>
      <th>10899</th>
      <td>delightful in a woman one loves, she opened th...</td>
    </tr>
    <tr>
      <th>5175</th>
      <td>it was now a matter of unconcern whether she w...</td>
    </tr>
    <tr>
      <th>6662</th>
      <td>judged of their motives by the immediate effec...</td>
    </tr>
    <tr>
      <th>8545</th>
      <td>left the house, for your sister was sure SHE w...</td>
    </tr>
    <tr>
      <th>3219</th>
      <td>"I am convinced," said Edward, "that you reall...</td>
    </tr>
    <tr>
      <th>1592</th>
      <td>were talking of him together, "whom every body...</td>
    </tr>
    <tr>
      <th>7322</th>
      <td>day on which his existence could be continued ...</td>
    </tr>
    <tr>
      <th>7613</th>
      <td>attracted them; and they sympathised with each...</td>
    </tr>
    <tr>
      <th>4310</th>
      <td>have had no idea of it before; for I dare say ...</td>
    </tr>
    <tr>
      <th>2165</th>
      <td>very near relation.  We will not say how near,...</td>
    </tr>
    <tr>
      <th>2499</th>
      <td></td>
    </tr>
    <tr>
      <th>6610</th>
      <td></td>
    </tr>
    <tr>
      <th>553</th>
      <td></td>
    </tr>
    <tr>
      <th>11057</th>
      <td></td>
    </tr>
    <tr>
      <th>9202</th>
      <td></td>
    </tr>
    <tr>
      <th>8350</th>
      <td>them all into the fire, 'do not adopt either o...</td>
    </tr>
    <tr>
      <th>11016</th>
      <td>"No--to Combe Magna.  I have business there; f...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="clip-cruft" class="level1">
<h1>Clip Cruft</h1>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>clip_pats <span class="op">=</span> [</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="vs">r"^\(1811\)"</span>, </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="vs">r"^THE END"</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>line_a <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>line_b <span class="op">=</span> <span class="bu">len</span>(LINES)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    pat_a <span class="op">=</span> LINES.line_str.<span class="bu">str</span>.match(clip_pats[<span class="dv">0</span>])</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    line_a <span class="op">=</span> LINES.loc[pat_a].index[<span class="dv">0</span>] <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span>:</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"pat_a not found"</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    pat_b <span class="op">=</span> LINES.line_str.<span class="bu">str</span>.match(clip_pats[<span class="dv">1</span>])</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    line_b <span class="op">=</span> LINES.loc[pat_b].index[<span class="dv">0</span>] <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span>:</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"pat_b not found"</span>)</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>LINES <span class="op">=</span> LINES.loc[line_a : line_b]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>LINES.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>line_str</th>
    </tr>
    <tr>
      <th>line_num</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>38</th>
      <td></td>
    </tr>
    <tr>
      <th>39</th>
      <td></td>
    </tr>
    <tr>
      <th>40</th>
      <td></td>
    </tr>
    <tr>
      <th>41</th>
      <td></td>
    </tr>
    <tr>
      <th>42</th>
      <td>CHAPTER 1</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>LINES.tail()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>line_str</th>
    </tr>
    <tr>
      <th>line_num</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12650</th>
      <td>within sight of each other, they could live wi...</td>
    </tr>
    <tr>
      <th>12651</th>
      <td>between themselves, or producing coolness betw...</td>
    </tr>
    <tr>
      <th>12652</th>
      <td></td>
    </tr>
    <tr>
      <th>12653</th>
      <td></td>
    </tr>
    <tr>
      <th>12654</th>
      <td></td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="chunk-chapters" class="level1">
<h1>Chunk Chapters</h1>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>chap_pat <span class="op">=</span> <span class="vs">r"^\s*(CHAPTER)\s+\d+"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>chap_lines <span class="op">=</span> LINES.line_str.<span class="bu">str</span>.match(chap_pat, case<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>LINES.loc[chap_lines, <span class="st">'chap_num'</span>] <span class="op">=</span> [i<span class="op">+</span><span class="dv">1</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(LINES.loc[chap_lines].shape[<span class="dv">0</span>])]</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>LINES.chap_num <span class="op">=</span> LINES.chap_num.ffill()</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>LINES <span class="op">=</span> LINES.dropna(subset<span class="op">=</span>[<span class="st">'chap_num'</span>]) <span class="co"># Remove everything before Chapter 1</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>LINES <span class="op">=</span> LINES.loc[<span class="op">~</span>chap_lines] <span class="co"># Remove chapter heading lines; their work is done</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>LINES.chap_num <span class="op">=</span> LINES.chap_num.astype(<span class="st">'int'</span>) <span class="co"># Convert chap_num from float to int</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>CHAPS <span class="op">=</span> LINES.groupby(OHCO[:<span class="dv">1</span>]).line_str<span class="op">\</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    .<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>.join(x))<span class="op">\</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    .<span class="bu">str</span>.strip()<span class="op">\</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    .to_frame(<span class="st">'chap_str'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="16">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>CHAPS.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>chap_str</th>
    </tr>
    <tr>
      <th>chap_num</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>The family of Dashwood had long been settled i...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Mrs. John Dashwood now installed herself mistr...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Mrs. Dashwood remained at Norland several mont...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>"What a pity it is, Elinor," said Marianne, "t...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>No sooner was her answer dispatched, than Mrs....</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="chunk-paragraphs" class="level1">
<h1>Chunk Paragraphs</h1>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>para_pat <span class="op">=</span> <span class="vs">r'\n\n+'</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>PARAS <span class="op">=</span> CHAPS[<span class="st">'chap_str'</span>].<span class="bu">str</span>.split(para_pat, expand<span class="op">=</span><span class="va">True</span>).stack()<span class="op">\</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    .to_frame(<span class="st">'para_str'</span>).sort_index()</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>PARAS.index.names <span class="op">=</span> OHCO[:<span class="dv">2</span>]</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>PARAS[<span class="st">'para_str'</span>] <span class="op">=</span> PARAS[<span class="st">'para_str'</span>].<span class="bu">str</span>.replace(<span class="vs">r'\n'</span>, <span class="st">' '</span>, regex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>PARAS[<span class="st">'para_str'</span>] <span class="op">=</span> PARAS[<span class="st">'para_str'</span>].<span class="bu">str</span>.strip()</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>PARAS <span class="op">=</span> PARAS[<span class="op">~</span>PARAS[<span class="st">'para_str'</span>].<span class="bu">str</span>.match(<span class="vs">r'^\s*$'</span>)] <span class="co"># Remove empty paragraphs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>PARAS.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th>para_str</th>
    </tr>
    <tr>
      <th>chap_num</th>
      <th>para_num</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">1</th>
      <th>0</th>
      <td>The family of Dashwood had long been settled i...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>By a former marriage, Mr. Henry Dashwood had o...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>The old gentleman died: his will was read, and...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Mr. Dashwood's disappointment was, at first, s...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>His son was sent for as soon as his danger was...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="use-nltk-to-chunk-sentences-and-parse-tokens" class="level1">
<h1>Use NLTK to Chunk Sentences and Parse Tokens</h1>
<section id="import-nltk-and-download-resources" class="level2">
<h2 class="anchored" data-anchor-id="import-nltk-and-download-resources">Import NLTK and download resources</h2>
<p>If you need to install NLTK, see the <a href="https://www.nltk.org/install.html">instructions here</a>. You can also install this with Anaconda, like so:</p>
<p><code>conda install nltk</code> or <code>conda install -c anaconda nltk</code> (See https://anaconda.org/anaconda/nltk)</p>
<p>Once you have installed NLTK, you will need to download resources, which will happen when you run the following cell. If the interactive window opens, you may need to set your NLTK Data Directory, as described in the <a href="https://www.nltk.org/data.html">instructions here</a>. To set the directory, click on the File menu and select Change Download Directory. For central installation, set this to <code>C:\nltk_data</code> (Windows),<code>/usr/local/share/nltk_data</code> (Mac), or <code>/usr/share/nltk_data</code> (Unix).</p>
<blockquote class="blockquote">
<p>If you did not install the data to one of the above central locations, you will need to set the NLTK_DATA environment variable to specify the location of the data. (On a Windows machine, right click on “My Computer” then select Properties &gt; Advanced &gt; Environment Variables &gt; User Variables &gt; New…)</p>
</blockquote>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>nltk_resources <span class="op">=</span> [</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'tokenizers/punkt'</span>, </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'taggers/averaged_perceptron_tagger'</span>, </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'corpora/stopwords'</span>, </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'help/tagsets'</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> rsc <span class="kw">in</span> nltk_resources:</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>        nltk.data.find(rsc)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">IndexError</span>:</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        nltk.download(rsc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If the above does not work, try going to the command line and download these resources from the interactive python shell.<br>
Your session should look something like this:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ipython</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Python</span> 3.9.6 <span class="er">(</span><span class="ex">default,</span> Aug 18 2021, 19:38:01<span class="kw">)</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Type</span> <span class="st">'copyright'</span>, <span class="st">'credits'</span> or <span class="st">'license'</span> for more information</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="ex">IPython</span> 7.26.0 <span class="at">--</span> An enhanced Interactive Python. Type <span class="st">'?'</span> for help.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">1</span>]: <span class="im">import</span> nltk</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">2</span>]: nltk.download(<span class="st">'averaged_perceptron_tagger'</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>[nltk_data] Downloading package averaged_perceptron_tagger to</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>[nltk_data]     <span class="op">/</span>home<span class="op">/</span>rca2t<span class="op">/</span>nltk_data...</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>[nltk_data]   Unzipping taggers<span class="op">/</span>averaged_perceptron_tagger.<span class="bu">zip</span>.</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">2</span>]: <span class="va">True</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">3</span>]: nltk.download(<span class="st">'tagsets'</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>[nltk_data] Downloading package tagsets to <span class="op">/</span>home<span class="op">/</span>rca2t<span class="op">/</span>nltk_data...</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>[nltk_data]   Unzipping <span class="bu">help</span><span class="op">/</span>tagsets.<span class="bu">zip</span>.</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">3</span>]: <span class="va">True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="demonstrate-nltk.sent_tokenize" class="level2">
<h2 class="anchored" data-anchor-id="demonstrate-nltk.sent_tokenize">Demonstrate <code>nltk.sent_tokenize()</code></h2>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>sample_para <span class="op">=</span> PARAS.iloc[<span class="dv">1</span>].para_str</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>sample_para</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>"By a former marriage, Mr. Henry Dashwood had one son: by his present lady, three daughters.  The son, a steady respectable young man, was amply provided for by the fortune of his mother, which had been large, and half of which devolved on him on his coming of age.  By his own marriage, likewise, which happened soon afterwards, he added to his wealth.  To him therefore the succession to the Norland estate was not so really important as to his sisters; for their fortune, independent of what might arise to them from their father's inheriting that property, could be but small.  Their mother had nothing, and their father only seven thousand pounds in his own disposal; for the remaining moiety of his first wife's fortune was also secured to her child, and he had only a life-interest in it."</code></pre>
</div>
</div>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>nltk.sent_tokenize(sample_para)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>['By a former marriage, Mr. Henry Dashwood had one son: by his present lady, three daughters.',
 'The son, a steady respectable young man, was amply provided for by the fortune of his mother, which had been large, and half of which devolved on him on his coming of age.',
 'By his own marriage, likewise, which happened soon afterwards, he added to his wealth.',
 "To him therefore the succession to the Norland estate was not so really important as to his sisters; for their fortune, independent of what might arise to them from their father's inheriting that property, could be but small.",
 "Their mother had nothing, and their father only seven thousand pounds in his own disposal; for the remaining moiety of his first wife's fortune was also secured to her child, and he had only a life-interest in it."]</code></pre>
</div>
</div>
</section>
<section id="apply-to-paras-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="apply-to-paras-dataframe">Apply to <code>PARAS</code> dataframe</h2>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>SENTS <span class="op">=</span> PARAS.para_str.<span class="bu">apply</span>(<span class="kw">lambda</span> x: pd.Series(nltk.sent_tokenize(x)))<span class="op">\</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>        .stack()<span class="op">\</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>        .to_frame(<span class="st">'sent_str'</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>SENTS.index.names <span class="op">=</span> OHCO[:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>SENTS</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th></th>
      <th>sent_str</th>
    </tr>
    <tr>
      <th>chap_num</th>
      <th>para_num</th>
      <th>sent_num</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">1</th>
      <th rowspan="5" valign="top">0</th>
      <th>0</th>
      <td>The family of Dashwood had long been settled i...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Their estate was large, and their residence wa...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>The late owner of this estate was a single man...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>But her death, which happened ten years before...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>In the society of his nephew and niece, and th...</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">50</th>
      <th rowspan="2" valign="top">17</th>
      <th>3</th>
      <td>He lived to exert, and frequently to enjoy him...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>His wife was not always out of humour, nor his...</td>
    </tr>
    <tr>
      <th>18</th>
      <th>0</th>
      <td>For Marianne, however--in spite of his incivil...</td>
    </tr>
    <tr>
      <th>19</th>
      <th>0</th>
      <td>Mrs. Dashwood was prudent enough to remain at ...</td>
    </tr>
    <tr>
      <th>20</th>
      <th>0</th>
      <td>Between Barton and Delaford, there was that co...</td>
    </tr>
  </tbody>
</table>
<p>4947 rows × 1 columns</p>
</div>
</div>
</div>
</section>
<section id="demonstrate-nltk.word_tokenize" class="level2">
<h2 class="anchored" data-anchor-id="demonstrate-nltk.word_tokenize">Demonstrate <code>nltk.word_tokenize()</code></h2>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>sample_sent <span class="op">=</span> SENTS.iloc[<span class="dv">3</span>].sent_str</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>sample_sent</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>'But her death, which happened ten years before his own, produced a great alteration in his home; for to supply her loss, he invited and received into his house the family of his nephew Mr. Henry Dashwood, the legal inheritor of the Norland estate, and the person to whom he intended to bequeath it.'</code></pre>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>sample_tokens <span class="op">=</span> nltk.word_tokenize(sample_sent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_tokens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['But', 'her', 'death', ',', 'which', 'happened', 'ten', 'years', 'before', 'his', 'own', ',', 'produced', 'a', 'great', 'alteration', 'in', 'his', 'home', ';', 'for', 'to', 'supply', 'her', 'loss', ',', 'he', 'invited', 'and', 'received', 'into', 'his', 'house', 'the', 'family', 'of', 'his', 'nephew', 'Mr.', 'Henry', 'Dashwood', ',', 'the', 'legal', 'inheritor', 'of', 'the', 'Norland', 'estate', ',', 'and', 'the', 'person', 'to', 'whom', 'he', 'intended', 'to', 'bequeath', 'it', '.']</code></pre>
</div>
</div>
</section>
<section id="demostrate-pos-tagging" class="level2">
<h2 class="anchored" data-anchor-id="demostrate-pos-tagging">Demostrate POS tagging</h2>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>sample_tagged_tokens <span class="op">=</span> nltk.pos_tag(nltk.word_tokenize(sample_sent))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_tagged_tokens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[('But', 'CC'), ('her', 'PRP$'), ('death', 'NN'), (',', ','), ('which', 'WDT'), ('happened', 'VBD'), ('ten', 'CD'), ('years', 'NNS'), ('before', 'IN'), ('his', 'PRP$'), ('own', 'JJ'), (',', ','), ('produced', 'VBD'), ('a', 'DT'), ('great', 'JJ'), ('alteration', 'NN'), ('in', 'IN'), ('his', 'PRP$'), ('home', 'NN'), (';', ':'), ('for', 'IN'), ('to', 'TO'), ('supply', 'VB'), ('her', 'PRP$'), ('loss', 'NN'), (',', ','), ('he', 'PRP'), ('invited', 'VBD'), ('and', 'CC'), ('received', 'VBD'), ('into', 'IN'), ('his', 'PRP$'), ('house', 'NN'), ('the', 'DT'), ('family', 'NN'), ('of', 'IN'), ('his', 'PRP$'), ('nephew', 'JJ'), ('Mr.', 'NNP'), ('Henry', 'NNP'), ('Dashwood', 'NNP'), (',', ','), ('the', 'DT'), ('legal', 'JJ'), ('inheritor', 'NN'), ('of', 'IN'), ('the', 'DT'), ('Norland', 'NNP'), ('estate', 'NN'), (',', ','), ('and', 'CC'), ('the', 'DT'), ('person', 'NN'), ('to', 'TO'), ('whom', 'WP'), ('he', 'PRP'), ('intended', 'VBD'), ('to', 'TO'), ('bequeath', 'VB'), ('it', 'PRP'), ('.', '.')]</code></pre>
</div>
</div>
</section>
<section id="apply-to-sents-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="apply-to-sents-dataframe">Apply to <code>SENTS</code> dataframe</h2>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>keep_whitespace <span class="op">=</span> <span class="va">True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> keep_whitespace:</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    TOKENS <span class="op">=</span> SENTS.sent_str<span class="op">\</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>            .<span class="bu">apply</span>(<span class="kw">lambda</span> x: pd.Series(nltk.pos_tag(nltk.word_tokenize(x))))<span class="op">\</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>            .stack()<span class="op">\</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>            .to_frame(<span class="st">'pos_tuple'</span>)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    TOKENS <span class="op">=</span> SENTS.sent_str<span class="op">\</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>            .<span class="bu">apply</span>(<span class="kw">lambda</span> x: pd.Series(nltk.pos_tag(nltk.WhitespaceTokenizer().tokenize(x))))<span class="op">\</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>            .stack()<span class="op">\</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>            .to_frame(<span class="st">'pos_tuple'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>TOKENS.index.names <span class="op">=</span> OHCO</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>TOKENS</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th>pos_tuple</th>
    </tr>
    <tr>
      <th>chap_num</th>
      <th>para_num</th>
      <th>sent_num</th>
      <th>token_num</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">1</th>
      <th rowspan="5" valign="top">0</th>
      <th rowspan="5" valign="top">0</th>
      <th>0</th>
      <td>(The, DT)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>(family, NN)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>(of, IN)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>(Dashwood, NNP)</td>
    </tr>
    <tr>
      <th>4</th>
      <td>(had, VBD)</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">50</th>
      <th rowspan="5" valign="top">20</th>
      <th rowspan="5" valign="top">0</th>
      <th>64</th>
      <td>(coolness, NN)</td>
    </tr>
    <tr>
      <th>65</th>
      <td>(between, IN)</td>
    </tr>
    <tr>
      <th>66</th>
      <td>(their, PRP$)</td>
    </tr>
    <tr>
      <th>67</th>
      <td>(husbands, NNS)</td>
    </tr>
    <tr>
      <th>68</th>
      <td>(., .)</td>
    </tr>
  </tbody>
</table>
<p>141320 rows × 1 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>TOKENS[<span class="st">'pos'</span>] <span class="op">=</span> TOKENS.pos_tuple.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x[<span class="dv">1</span>])</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>TOKENS[<span class="st">'token_str'</span>] <span class="op">=</span> TOKENS.pos_tuple.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x[<span class="dv">0</span>])</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>TOKENS[<span class="st">'term_str'</span>] <span class="op">=</span> TOKENS.token_str.<span class="bu">str</span>.lower()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>TOKENS</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th>pos_tuple</th>
      <th>pos</th>
      <th>token_str</th>
      <th>term_str</th>
    </tr>
    <tr>
      <th>chap_num</th>
      <th>para_num</th>
      <th>sent_num</th>
      <th>token_num</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">1</th>
      <th rowspan="5" valign="top">0</th>
      <th rowspan="5" valign="top">0</th>
      <th>0</th>
      <td>(The, DT)</td>
      <td>DT</td>
      <td>The</td>
      <td>the</td>
    </tr>
    <tr>
      <th>1</th>
      <td>(family, NN)</td>
      <td>NN</td>
      <td>family</td>
      <td>family</td>
    </tr>
    <tr>
      <th>2</th>
      <td>(of, IN)</td>
      <td>IN</td>
      <td>of</td>
      <td>of</td>
    </tr>
    <tr>
      <th>3</th>
      <td>(Dashwood, NNP)</td>
      <td>NNP</td>
      <td>Dashwood</td>
      <td>dashwood</td>
    </tr>
    <tr>
      <th>4</th>
      <td>(had, VBD)</td>
      <td>VBD</td>
      <td>had</td>
      <td>had</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">50</th>
      <th rowspan="5" valign="top">20</th>
      <th rowspan="5" valign="top">0</th>
      <th>64</th>
      <td>(coolness, NN)</td>
      <td>NN</td>
      <td>coolness</td>
      <td>coolness</td>
    </tr>
    <tr>
      <th>65</th>
      <td>(between, IN)</td>
      <td>IN</td>
      <td>between</td>
      <td>between</td>
    </tr>
    <tr>
      <th>66</th>
      <td>(their, PRP$)</td>
      <td>PRP$</td>
      <td>their</td>
      <td>their</td>
    </tr>
    <tr>
      <th>67</th>
      <td>(husbands, NNS)</td>
      <td>NNS</td>
      <td>husbands</td>
      <td>husbands</td>
    </tr>
    <tr>
      <th>68</th>
      <td>(., .)</td>
      <td>.</td>
      <td>.</td>
      <td>.</td>
    </tr>
  </tbody>
</table>
<p>141320 rows × 4 columns</p>
</div>
</div>
</div>
</section>
</section>
<section id="use-nltk-to-annotate-tokens-and-vocab" class="level1">
<h1>Use NLTK to annotate TOKENS and VOCAB</h1>
<section id="extract-vocab" class="level2">
<h2 class="anchored" data-anchor-id="extract-vocab">Extract VOCAB</h2>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>VOCAB <span class="op">=</span> TOKENS.term_str.value_counts().to_frame(<span class="st">'n'</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>VOCAB.index.name <span class="op">=</span> <span class="st">'term_str'</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>VOCAB[<span class="st">'p'</span>] <span class="op">=</span> VOCAB.n <span class="op">/</span> VOCAB.n.<span class="bu">sum</span>()</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>VOCAB[<span class="st">'i'</span>] <span class="op">=</span> <span class="op">-</span>np.log2(VOCAB.p)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>VOCAB[<span class="st">'n_chars'</span>] <span class="op">=</span> VOCAB.index.<span class="bu">str</span>.<span class="bu">len</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>VOCAB</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>n</th>
      <th>p</th>
      <th>i</th>
      <th>n_chars</th>
    </tr>
    <tr>
      <th>term_str</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>,</th>
      <td>9900</td>
      <td>0.070054</td>
      <td>3.835393</td>
      <td>1</td>
    </tr>
    <tr>
      <th>the</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>3</td>
    </tr>
    <tr>
      <th>to</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>2</td>
    </tr>
    <tr>
      <th>.</th>
      <td>4028</td>
      <td>0.028503</td>
      <td>5.132758</td>
      <td>1</td>
    </tr>
    <tr>
      <th>of</th>
      <td>3571</td>
      <td>0.025269</td>
      <td>5.306494</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>festival</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
    </tr>
    <tr>
      <th>proclaim</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
    </tr>
    <tr>
      <th>spending</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
    </tr>
    <tr>
      <th>habitation</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>10</td>
    </tr>
    <tr>
      <th>producing</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
<p>6586 rows × 4 columns</p>
</div>
</div>
</div>
</section>
<section id="add-max-pos" class="level2">
<h2 class="anchored" data-anchor-id="add-max-pos">Add Max POS</h2>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>TOKENS[[<span class="st">'term_str'</span>,<span class="st">'pos'</span>]].value_counts().sort_index().loc[<span class="st">'love'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>pos
IN      1
NN     47
VB     18
VBP    10
Name: count, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>VOCAB[<span class="st">'max_pos'</span>] <span class="op">=</span> TOKENS[[<span class="st">'term_str'</span>,<span class="st">'pos'</span>]].value_counts().unstack(fill_value<span class="op">=</span><span class="dv">0</span>).idxmax(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>VOCAB</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>n</th>
      <th>p</th>
      <th>i</th>
      <th>n_chars</th>
      <th>max_pos</th>
    </tr>
    <tr>
      <th>term_str</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>,</th>
      <td>9900</td>
      <td>0.070054</td>
      <td>3.835393</td>
      <td>1</td>
      <td>,</td>
    </tr>
    <tr>
      <th>the</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>3</td>
      <td>DT</td>
    </tr>
    <tr>
      <th>to</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>2</td>
      <td>TO</td>
    </tr>
    <tr>
      <th>.</th>
      <td>4028</td>
      <td>0.028503</td>
      <td>5.132758</td>
      <td>1</td>
      <td>.</td>
    </tr>
    <tr>
      <th>of</th>
      <td>3571</td>
      <td>0.025269</td>
      <td>5.306494</td>
      <td>2</td>
      <td>IN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>festival</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>NN</td>
    </tr>
    <tr>
      <th>proclaim</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>VB</td>
    </tr>
    <tr>
      <th>spending</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>VBG</td>
    </tr>
    <tr>
      <th>habitation</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>10</td>
      <td>NN</td>
    </tr>
    <tr>
      <th>producing</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>9</td>
      <td>VBG</td>
    </tr>
  </tbody>
</table>
<p>6586 rows × 5 columns</p>
</div>
</div>
</div>
</section>
<section id="the-u-penn-tree-bank" class="level2">
<h2 class="anchored" data-anchor-id="the-u-penn-tree-bank">The U Penn Tree Bank</h2>
</section>
<section id="extract-pos" class="level2">
<h2 class="anchored" data-anchor-id="extract-pos">Extract POS</h2>
<p><strong>Grab UPenn Codes</strong></p>
<p>We get a text version of the UPenn Codes, or tag set, by calling <code>nltk.help.upenn_tagset()</code>. There is a script in <code>data/misc</code> that will generate this file for you, although a copy of it has already been generated. We use this to add a definition column to our table. This can be used later in visualizations, etc.</p>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>tags_csv <span class="op">=</span> [(line.split()[<span class="dv">0</span>], <span class="st">' '</span>.join(line.split()[<span class="dv">1</span>:])) </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> line <span class="kw">in</span> <span class="bu">open</span>(<span class="ss">f'</span><span class="sc">{</span>data_dir<span class="sc">}</span><span class="ss">/misc/upenn_tagset.txt'</span>, <span class="st">'r'</span>).readlines()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>TOKENS</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th>pos_tuple</th>
      <th>pos</th>
      <th>token_str</th>
      <th>term_str</th>
    </tr>
    <tr>
      <th>chap_num</th>
      <th>para_num</th>
      <th>sent_num</th>
      <th>token_num</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">1</th>
      <th rowspan="5" valign="top">0</th>
      <th rowspan="5" valign="top">0</th>
      <th>0</th>
      <td>(The, DT)</td>
      <td>DT</td>
      <td>The</td>
      <td>the</td>
    </tr>
    <tr>
      <th>1</th>
      <td>(family, NN)</td>
      <td>NN</td>
      <td>family</td>
      <td>family</td>
    </tr>
    <tr>
      <th>2</th>
      <td>(of, IN)</td>
      <td>IN</td>
      <td>of</td>
      <td>of</td>
    </tr>
    <tr>
      <th>3</th>
      <td>(Dashwood, NNP)</td>
      <td>NNP</td>
      <td>Dashwood</td>
      <td>dashwood</td>
    </tr>
    <tr>
      <th>4</th>
      <td>(had, VBD)</td>
      <td>VBD</td>
      <td>had</td>
      <td>had</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">50</th>
      <th rowspan="5" valign="top">20</th>
      <th rowspan="5" valign="top">0</th>
      <th>64</th>
      <td>(coolness, NN)</td>
      <td>NN</td>
      <td>coolness</td>
      <td>coolness</td>
    </tr>
    <tr>
      <th>65</th>
      <td>(between, IN)</td>
      <td>IN</td>
      <td>between</td>
      <td>between</td>
    </tr>
    <tr>
      <th>66</th>
      <td>(their, PRP$)</td>
      <td>PRP$</td>
      <td>their</td>
      <td>their</td>
    </tr>
    <tr>
      <th>67</th>
      <td>(husbands, NNS)</td>
      <td>NNS</td>
      <td>husbands</td>
      <td>husbands</td>
    </tr>
    <tr>
      <th>68</th>
      <td>(., .)</td>
      <td>.</td>
      <td>.</td>
      <td>.</td>
    </tr>
  </tbody>
</table>
<p>141320 rows × 4 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>POS <span class="op">=</span> pd.DataFrame(tags_csv)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>POS.columns <span class="op">=</span> [<span class="st">'pos_code'</span>,<span class="st">'pos_def'</span>]</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>POS <span class="op">=</span> POS.set_index(<span class="st">'pos_code'</span>)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>POS[<span class="st">'n'</span>] <span class="op">=</span> TOKENS.pos.value_counts()</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>POS[<span class="st">'n'</span>] <span class="op">=</span> POS[<span class="st">'n'</span>].fillna(<span class="dv">0</span>).astype(<span class="st">'int'</span>)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>POS[<span class="st">'group'</span>] <span class="op">=</span> POS.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.name[:<span class="dv">2</span>], <span class="dv">1</span>)</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>POS[<span class="st">'punc'</span>] <span class="op">=</span> POS.<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">bool</span>(re.match(<span class="vs">r"^\W"</span>, x.name)), <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>POS[POS.punc].index.to_list()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>['$', "''", '(', ')', ',', '--', '.', ':', '``']</code></pre>
</div>
</div>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>POS.groupby(<span class="st">'group'</span>).n.<span class="bu">sum</span>().sort_values().plot.bar(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">5</span>), rot<span class="op">=</span><span class="dv">0</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="M04_00_NLTK_Intro_files/figure-html/cell-46-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="compute-pos-ambiguity" class="level2">
<h2 class="anchored" data-anchor-id="compute-pos-ambiguity">Compute POS ambiguity</h2>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>TPM <span class="op">=</span> TOKENS[[<span class="st">'term_str'</span>,<span class="st">'pos'</span>]].value_counts().unstack()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>VOCAB[<span class="st">'n_pos'</span>] <span class="op">=</span> TPM.count(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>VOCAB.sort_values(<span class="st">'n_pos'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>n</th>
      <th>p</th>
      <th>i</th>
      <th>n_chars</th>
      <th>max_pos</th>
      <th>n_pos</th>
    </tr>
    <tr>
      <th>term_str</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>,</th>
      <td>9900</td>
      <td>0.070054</td>
      <td>3.835393</td>
      <td>1</td>
      <td>,</td>
      <td>1</td>
    </tr>
    <tr>
      <th>projects</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>NNS</td>
      <td>1</td>
    </tr>
    <tr>
      <th>latest</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>6</td>
      <td>JJS</td>
      <td>1</td>
    </tr>
    <tr>
      <th>favour.</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>7</td>
      <td>NN</td>
      <td>1</td>
    </tr>
    <tr>
      <th>hating</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>6</td>
      <td>VBG</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>round</th>
      <td>27</td>
      <td>0.000191</td>
      <td>12.353719</td>
      <td>5</td>
      <td>NN</td>
      <td>7</td>
    </tr>
    <tr>
      <th>heard</th>
      <td>78</td>
      <td>0.000552</td>
      <td>10.823204</td>
      <td>5</td>
      <td>VBN</td>
      <td>7</td>
    </tr>
    <tr>
      <th>half</th>
      <td>55</td>
      <td>0.000389</td>
      <td>11.327246</td>
      <td>4</td>
      <td>PDT</td>
      <td>7</td>
    </tr>
    <tr>
      <th>till</th>
      <td>83</td>
      <td>0.000587</td>
      <td>10.733567</td>
      <td>4</td>
      <td>VB</td>
      <td>8</td>
    </tr>
    <tr>
      <th>ma'am</th>
      <td>37</td>
      <td>0.000262</td>
      <td>11.899153</td>
      <td>5</td>
      <td>NN</td>
      <td>8</td>
    </tr>
  </tbody>
</table>
<p>6586 rows × 6 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>VOCAB.n_pos.hist()<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="M04_00_NLTK_Intro_files/figure-html/cell-50-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>VOCAB.plot.scatter(<span class="st">'n_chars'</span>, <span class="st">'n_pos'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="M04_00_NLTK_Intro_files/figure-html/cell-51-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="extract-max-pos" class="level2">
<h2 class="anchored" data-anchor-id="extract-max-pos">Extract Max POS</h2>
<div class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>VOCAB[<span class="st">'max_pos'</span>] <span class="op">=</span> TPM.idxmax(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>VOCAB</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>n</th>
      <th>p</th>
      <th>i</th>
      <th>n_chars</th>
      <th>max_pos</th>
      <th>n_pos</th>
    </tr>
    <tr>
      <th>term_str</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>,</th>
      <td>9900</td>
      <td>0.070054</td>
      <td>3.835393</td>
      <td>1</td>
      <td>,</td>
      <td>1</td>
    </tr>
    <tr>
      <th>the</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>3</td>
      <td>DT</td>
      <td>1</td>
    </tr>
    <tr>
      <th>to</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>2</td>
      <td>TO</td>
      <td>1</td>
    </tr>
    <tr>
      <th>.</th>
      <td>4028</td>
      <td>0.028503</td>
      <td>5.132758</td>
      <td>1</td>
      <td>.</td>
      <td>1</td>
    </tr>
    <tr>
      <th>of</th>
      <td>3571</td>
      <td>0.025269</td>
      <td>5.306494</td>
      <td>2</td>
      <td>IN</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>festival</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>NN</td>
      <td>1</td>
    </tr>
    <tr>
      <th>proclaim</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>VB</td>
      <td>1</td>
    </tr>
    <tr>
      <th>spending</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>VBG</td>
      <td>1</td>
    </tr>
    <tr>
      <th>habitation</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>10</td>
      <td>NN</td>
      <td>1</td>
    </tr>
    <tr>
      <th>producing</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>9</td>
      <td>VBG</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>6586 rows × 6 columns</p>
</div>
</div>
</div>
</section>
<section id="identify-stopwords" class="level2">
<h2 class="anchored" data-anchor-id="identify-stopwords">Identify Stopwords</h2>
<p>We use NLTK’s built in stopword list for English. Note that we can add and subtract from this list, or just create our own list and keep it in our data model.</p>
<div class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>sw <span class="op">=</span> pd.DataFrame({<span class="st">'stop'</span>: <span class="dv">1</span>}, index<span class="op">=</span>nltk.corpus.stopwords.words(<span class="st">'english'</span>))</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>sw.index.name<span class="op">=</span><span class="st">'term_str'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>sw.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>stop</th>
    </tr>
    <tr>
      <th>term_str</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>i</th>
      <td>1</td>
    </tr>
    <tr>
      <th>me</th>
      <td>1</td>
    </tr>
    <tr>
      <th>my</th>
      <td>1</td>
    </tr>
    <tr>
      <th>myself</th>
      <td>1</td>
    </tr>
    <tr>
      <th>we</th>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">'stop'</span> <span class="kw">not</span> <span class="kw">in</span> VOCAB.columns:</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    VOCAB <span class="op">=</span> VOCAB.join(sw)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    VOCAB[<span class="st">'stop'</span>] <span class="op">=</span> VOCAB[<span class="st">'stop'</span>].fillna(<span class="dv">0</span>).astype(<span class="st">'int'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>VOCAB</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>n</th>
      <th>p</th>
      <th>i</th>
      <th>n_chars</th>
      <th>max_pos</th>
      <th>n_pos</th>
      <th>stop</th>
    </tr>
    <tr>
      <th>term_str</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>,</th>
      <td>9900</td>
      <td>0.070054</td>
      <td>3.835393</td>
      <td>1</td>
      <td>,</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>the</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>3</td>
      <td>DT</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>to</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>2</td>
      <td>TO</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>.</th>
      <td>4028</td>
      <td>0.028503</td>
      <td>5.132758</td>
      <td>1</td>
      <td>.</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>of</th>
      <td>3571</td>
      <td>0.025269</td>
      <td>5.306494</td>
      <td>2</td>
      <td>IN</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>festival</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>NN</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>proclaim</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>VB</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>spending</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>VBG</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>habitation</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>10</td>
      <td>NN</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>producing</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>9</td>
      <td>VBG</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>6586 rows × 7 columns</p>
</div>
</div>
</div>
</section>
<section id="add-stems" class="level2">
<h2 class="anchored" data-anchor-id="add-stems">Add Stems</h2>
<div class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.stem.porter <span class="im">import</span> PorterStemmer</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>stemmer <span class="op">=</span> PorterStemmer()</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>VOCAB[<span class="st">'p_stem'</span>] <span class="op">=</span> VOCAB.<span class="bu">apply</span>(<span class="kw">lambda</span> x: stemmer.stem(x.name), <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>VOCAB</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>n</th>
      <th>p</th>
      <th>i</th>
      <th>n_chars</th>
      <th>max_pos</th>
      <th>n_pos</th>
      <th>stop</th>
      <th>p_stem</th>
    </tr>
    <tr>
      <th>term_str</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>,</th>
      <td>9900</td>
      <td>0.070054</td>
      <td>3.835393</td>
      <td>1</td>
      <td>,</td>
      <td>1</td>
      <td>0</td>
      <td>,</td>
    </tr>
    <tr>
      <th>the</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>3</td>
      <td>DT</td>
      <td>1</td>
      <td>1</td>
      <td>the</td>
    </tr>
    <tr>
      <th>to</th>
      <td>4101</td>
      <td>0.029019</td>
      <td>5.106846</td>
      <td>2</td>
      <td>TO</td>
      <td>1</td>
      <td>1</td>
      <td>to</td>
    </tr>
    <tr>
      <th>.</th>
      <td>4028</td>
      <td>0.028503</td>
      <td>5.132758</td>
      <td>1</td>
      <td>.</td>
      <td>1</td>
      <td>0</td>
      <td>.</td>
    </tr>
    <tr>
      <th>of</th>
      <td>3571</td>
      <td>0.025269</td>
      <td>5.306494</td>
      <td>2</td>
      <td>IN</td>
      <td>1</td>
      <td>1</td>
      <td>of</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>festival</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>NN</td>
      <td>1</td>
      <td>0</td>
      <td>festiv</td>
    </tr>
    <tr>
      <th>proclaim</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>VB</td>
      <td>1</td>
      <td>0</td>
      <td>proclaim</td>
    </tr>
    <tr>
      <th>spending</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>VBG</td>
      <td>1</td>
      <td>0</td>
      <td>spend</td>
    </tr>
    <tr>
      <th>habitation</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>10</td>
      <td>NN</td>
      <td>1</td>
      <td>0</td>
      <td>habit</td>
    </tr>
    <tr>
      <th>producing</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>9</td>
      <td>VBG</td>
      <td>1</td>
      <td>0</td>
      <td>produc</td>
    </tr>
  </tbody>
</table>
<p>6586 rows × 8 columns</p>
</div>
</div>
</div>
</section>
</section>
<section id="summary" class="level1">
<h1>Summary</h1>
<p>We took a source file and showed how to use NLTK’s tools to do intelligent parsing of sentences and tokens, and then to annotate the resulting TOKENS and VOCAB tables. We also created a POS table to capture information about pos usage in the corpus.</p>
<div class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>VOCAB.p_stem.value_counts().head(<span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<pre><code>p_stem
respect     10
observ       8
continu      7
affect       7
admir        7
express      7
reason       7
possess      6
attend       6
suffer       6
prefer       6
allow        6
consider     6
present      6
comfort      6
depend       6
imagin       6
accept       6
perform      6
like         6
expect       6
live         6
anticip      5
attach       5
love         5
amus         5
reflect      5
answer       5
determin     5
care         5
Name: count, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>VOCAB[VOCAB.p_stem <span class="op">==</span> <span class="st">'present'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>n</th>
      <th>p</th>
      <th>i</th>
      <th>n_chars</th>
      <th>max_pos</th>
      <th>n_pos</th>
      <th>stop</th>
      <th>p_stem</th>
    </tr>
    <tr>
      <th>term_str</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>present</th>
      <td>84</td>
      <td>0.000594</td>
      <td>10.716289</td>
      <td>7</td>
      <td>JJ</td>
      <td>2</td>
      <td>0</td>
      <td>present</td>
    </tr>
    <tr>
      <th>presently</th>
      <td>8</td>
      <td>0.000057</td>
      <td>14.108606</td>
      <td>9</td>
      <td>RB</td>
      <td>1</td>
      <td>0</td>
      <td>present</td>
    </tr>
    <tr>
      <th>presented</th>
      <td>5</td>
      <td>0.000035</td>
      <td>14.786678</td>
      <td>9</td>
      <td>VBD</td>
      <td>2</td>
      <td>0</td>
      <td>present</td>
    </tr>
    <tr>
      <th>presentation</th>
      <td>3</td>
      <td>0.000021</td>
      <td>15.523644</td>
      <td>12</td>
      <td>NN</td>
      <td>1</td>
      <td>0</td>
      <td>present</td>
    </tr>
    <tr>
      <th>presenting</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>10</td>
      <td>VBG</td>
      <td>1</td>
      <td>0</td>
      <td>present</td>
    </tr>
    <tr>
      <th>presents</th>
      <td>1</td>
      <td>0.000007</td>
      <td>17.108606</td>
      <td>8</td>
      <td>NNS</td>
      <td>1</td>
      <td>0</td>
      <td>present</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>VOCAB.loc[<span class="st">'present'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<pre><code>n                 84
p           0.000594
i          10.716289
n_chars            7
max_pos           JJ
n_pos              2
stop               0
p_stem       present
Name: present, dtype: object</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../lessons/M03_LanguageModels/M03_EZ.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">How to Create an N-Gram Model from ScratchHow to Create an N-Gram Model from Scratch</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../lessons/M04_NLP/M04_01_Pipeline.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-title">NLP and the Pipeline</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>